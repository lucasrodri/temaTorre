{"version":3,"file":"components/tab/tab.min.js","mappings":"CAAA,SAAUA,EAAiCC,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,QAAS,GAAIH,GACM,iBAAZC,QACdA,QAAe,MAAID,IAEnBD,EAAY,MAAIC,IARlB,CASGK,MAAM,WACT,M,2BCVA,MAAMC,EACJC,YAAYC,EAAMC,GAChBC,KAAKF,KAAOA,EACZE,KAAKD,UAAYA,EACjBC,KAAKC,eAGPA,eACE,IAAK,MAAMC,KAASF,KAAKD,UAAUI,iBAAiB,YAClDH,KAAKI,OAASF,EAAMG,aACpBL,KAAKM,WAAaJ,EAAMK,aAAeL,EAAMG,aAE7CL,KAAKO,aAAeC,KAAKC,IACvBT,KAAKD,UAAUW,YACfC,SAASC,gBAAgBF,YACzBV,KAAKD,UAAUc,YACfF,SAASC,gBAAgBC,YACzBb,KAAKD,UAAUe,YACfH,SAASC,gBAAgBE,aAE3Bd,KAAKe,aAAef,KAAKD,UAAUc,YAAc,EAEjDX,EAAMc,MAAMC,YAAY,eAAgB,GAAGjB,KAAKI,YAChDF,EAAMc,MAAMC,YAAY,uBAAwB,GAAGjB,KAAKe,kBAExDf,KAAKkB,eAAehB,EAAOF,KAAKD,WAEhCC,KAAKmB,gBAAkBnB,KAAKmB,gBAAkB,EAE1CnB,KAAKmB,iBAAmBnB,KAAKoB,YAAc,GAC7ClB,EAAMmB,UAAUC,IAAI,iBAGtBpB,EAAMqB,SAAYC,IAChBxB,KAAKkB,eAAehB,EAAOF,KAAKD,WAE5BC,KAAKyB,gBAAkB,EACzBvB,EAAMmB,UAAUC,IAAI,gBAEpBpB,EAAMmB,UAAUK,OAAO,gBAGrB1B,KAAKmB,iBAAmBnB,KAAKoB,YAAc,EAC7ClB,EAAMmB,UAAUC,IAAI,iBAEpBpB,EAAMmB,UAAUK,OAAO,kBAK7B,IAAK,MAAMxB,KAASF,KAAKD,UAAUI,iBACjC,mDAEAD,EAAMyB,iBACJ,SACCH,IACCxB,KAAK4B,WAAWJ,EAAMK,cAAcC,eACpC9B,KAAK+B,eAAeP,EAAMK,cAAcC,kBAE1C,GAEF5B,EAAMyB,iBAAiB,SAAUK,IAC/BA,EAAEC,iBACFjC,KAAKkC,iBAAiBF,EAAGhC,SAG7BA,KAAKmC,SAAWnC,KAAKD,UAAUI,iBAAiB,YAGlD+B,iBAAiBV,EAAOY,GAEtB,MAAMC,EACC,GADDA,EAEE,GAFFA,EAGE,GAHFA,EAIG,GAJHA,EAKC,EALDA,EAMG,GAEHC,EAAMd,EAAMe,QAGlB,OAFAvC,KAAKmC,SAAWnC,KAAKD,UAAUI,iBAAiB,aAChDH,KAAKwC,QAAUxC,KAAKD,UAAUI,iBAAiB,UACvCmC,GACN,KAAKD,EACHb,EAAMS,iBAENjC,KAAKyC,QACLzC,KAAK4B,WAAW5B,KAAKmC,SAASnC,KAAKmC,SAASO,OAAS,IACrD1C,KAAK+B,eAAe/B,KAAKmC,SAASnC,KAAKmC,SAASO,OAAS,IACzD1C,KAAKmC,SAASnC,KAAKmC,SAASO,OAAS,GAAGC,QACxC,MACF,KAAKN,EACHb,EAAMS,iBACNjC,KAAKyC,QACLzC,KAAK4B,WAAW5B,KAAKmC,SAAS,IAC9BnC,KAAK+B,eAAe/B,KAAKmC,SAAS,IAClCnC,KAAKmC,SAAS,GAAGQ,QACjBnB,EAAMoB,kBACN,MAGF,KAAKP,EACHb,EAAMS,iBACNjC,KAAK6C,SAASrB,EAAMsB,QAAS,GAC7BtB,EAAMoB,kBACN,MACF,KAAKP,EACHb,EAAMS,iBACNjC,KAAK6C,SAASrB,EAAMsB,OAAQ,GAC5BtB,EAAMoB,kBACN,MACF,KAAKP,EACHb,EAAMS,iBACNjC,KAAK6C,SAASrB,EAAMsB,OAAQ,GAC5BtB,EAAMoB,kBACN,MACF,KAAK,GACHpB,EAAMS,iBACNT,EAAMsB,OAAOC,QACbvB,EAAMoB,mBAOZI,eAAeF,EAAQG,GACrB,IAAIC,EAAgB,EAChBC,EAAsB,EAE1B,MAAMC,EACJN,EAAOhB,cAAcA,cAAc3B,iBAAiB,aACtD,IAAK,MAAMJ,KAAaqD,GAEpBrD,EAAUsB,UAAUgC,SAAS,cAC7BtD,EAAUsB,UAAUgC,SAAS,aAE7BF,EAAsBD,GAExBA,GAAiB,EAEnB,GACEE,EAAUV,OAASS,EAAsBF,GACzCE,EAAsBF,GAAa,EACnC,CACAjD,KAAK4B,WAAWwB,EAAUD,EAAsBF,IAChDG,EAAUD,EAAsBF,GAAWN,QAC3C,IAAIW,EAAI,GACJF,EAAUD,EAAsBF,GAAWM,cAAc,YAC3DD,EAAIF,EAAUD,EAAsBF,GAAWM,cAAc,UAC7DD,EAAEX,UAKRE,SAASC,EAAQG,GACfjD,KAAKwD,cAAcV,EAAQG,EAAW,aAGxCO,cAAcV,EAAQG,EAAWQ,GAC/B,IAAIP,EAAgB,EACpB,MAAMC,EAAsB,EAC5B,IAAIO,EAAqB,EACzB,MAAMN,EAAYN,EAAOhB,cAAcA,cAAc3B,iBAAiBsD,GACtE,IAAK,MAAM1D,KAAaqD,EAClBrD,EAAUwD,cAAc,oBAC1BG,EAAqBR,GAEvBA,GAAiB,EAEnBE,EAAUM,EAAqBT,GAAWM,cAAc,UAAUZ,QAEhES,EAAUV,OAASgB,EAAqBT,GACxCS,EAAqBT,GAAa,GAE9BG,EAAUM,EAAqBT,GAAWM,cAAc,WAC1DH,EAAUM,EAAqBT,GAC5BM,cAAc,UACdZ,QAKTgB,YAAYb,GACV,IAAII,EAAgB,EAChBC,EAAsB,EAE1B,MAAMC,EACJN,EAAOhB,cAAcA,cAAc3B,iBAAiB,aACtD,IAAK,MAAMJ,KAAaqD,GAEpBrD,EAAUsB,UAAUgC,SAAS,cAC7BtD,EAAUsB,UAAUgC,SAAS,aAE7BF,EAAsBD,GAExBA,GAAiB,EAEfE,EAAUV,OAASS,GAAuBA,GAAuB,IACnEnD,KAAKyC,QAELzC,KAAK+B,eAAeqB,EAAUD,KAMlCV,QACE,IAAK,MAAMvC,KAASsB,MAAMK,cAAcC,cAAc3B,iBACpD,UAEAD,EAAMmB,UAAUK,OAAO,iBACvBxB,EAAMmB,UAAUK,OAAO,aACvBxB,EAAMmB,UAAUK,OAAO,UAEzB,IAAK,MAAMxB,KAASsB,MAAMK,cAAcC,cAAc3B,iBACpD,YAEAD,EAAMmB,UAAUK,OAAO,aACvBxB,EAAMmB,UAAUK,OAAO,UAI3BR,eAAehB,EAAOH,GACpBC,KAAK4D,SAAW1D,EAAMC,iBAAiB,aACvCH,KAAKoB,YAAcZ,KAAKqD,KACtB7D,KAAK4D,SAAS5D,KAAK4D,SAASlB,OAAS,GAAGoB,wBAAwBC,OAElE/D,KAAKyB,eAAiBjB,KAAKwD,MACzBhE,KAAK4D,SAAS,GAAGE,wBAAwBG,MAE3CjE,KAAKmB,gBAAkBX,KAAKwD,MAAM9D,EAAM4D,wBAAwBC,OAElEnC,WAAWsC,GACT,IAAK,MAAMC,KAAWnE,KAAKD,UAAUI,iBACnC,4CAEIgE,IAAYD,EACdC,EAAQ9C,UAAUC,IAAI,WAEtB6C,EAAQ9C,UAAUK,OAAO,aACzByC,EAAQ9C,UAAUK,OAAO,WAK/BK,eAAemC,GACb,IAAK,MAAME,KAAUF,EAAW/D,iBAAiB,UAC/C,IAAK,MAAMkE,KAAYrE,KAAKD,UAAUI,iBACpC,2BAGEiE,EAAOE,aAAa,gBAAkBD,EAASC,aAAa,OAC5DF,EAAOE,aAAa,iBAAmBD,EAASC,aAAa,MAE7DD,EAAShD,UAAUC,IAAI,WAEvB+C,EAAShD,UAAUK,OAAO,aAC1B2C,EAAShD,UAAUK,OAAO,YAOpC,MAAe,M","sources":["webpack://dsgov/webpack/universalModuleDefinition","webpack://dsgov/./src/components/tab/tab.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"dsgov\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dsgov\"] = factory();\n\telse\n\t\troot[\"dsgov\"] = factory();\n})(self, function() {\nreturn ","class BRTab {\n  constructor(name, component) {\n    this.name = name\n    this.component = component\n    this._setBehavior()\n  }\n\n  _setBehavior() {\n    for (const ancor of this.component.querySelectorAll('.tab-nav')) {\n      this.height = ancor.clientHeight\n      this.scollsizes = ancor.scrollHeight - ancor.clientHeight\n\n      this.scrollHeight = Math.max(\n        this.component.scrollWidth,\n        document.documentElement.scrollWidth,\n        this.component.offsetWidth,\n        document.documentElement.offsetWidth,\n        this.component.clientWidth,\n        document.documentElement.clientWidth\n      )\n      this.leftPosition = this.component.offsetWidth - 1\n      // debugger\n      ancor.style.setProperty('--height-nav', `${this.height}px`)\n      ancor.style.setProperty('--right-gradient-nav', `${this.leftPosition}px`)\n\n      this.positionScroll(ancor, this.component)\n\n      this.navigationRight = this.navigationRight + 4\n\n      if (this.navigationRight <= this.lastItempos - 5) {\n        ancor.classList.add('tab-nav-right')\n      }\n\n      ancor.onscroll = (event) => {\n        this.positionScroll(ancor, this.component)\n\n        if (this.navigationLeft <= 0) {\n          ancor.classList.add('tab-nav-left')\n        } else {\n          ancor.classList.remove('tab-nav-left')\n        }\n\n        if (this.navigationRight <= this.lastItempos - 5) {\n          ancor.classList.add('tab-nav-right')\n        } else {\n          ancor.classList.remove('tab-nav-right')\n        }\n      }\n    }\n\n    for (const ancor of this.component.querySelectorAll(\n      '.tab-nav .tab-item:not([not-tab=\"true\"]) button'\n    )) {\n      ancor.addEventListener(\n        'click',\n        (event) => {\n          this._switchTab(event.currentTarget.parentElement)\n          this._switchContent(event.currentTarget.parentElement)\n        },\n        false\n      )\n      ancor.addEventListener('keyup', (e) => {\n        e.preventDefault()\n        this.positionKeyboard(e, this)\n      })\n    }\n    this.tabitems = this.component.querySelectorAll('tab-item')\n  }\n\n  positionKeyboard(event, componentTab) {\n    // event.preventDefault()\n    const keys = {\n      end: 35,\n      home: 36,\n      left: 37,\n      right: 39,\n      tab: 9,\n      space: 32,\n    }\n    const key = event.keyCode\n    this.tabitems = this.component.querySelectorAll('.tab-item')\n    this.buttons = this.component.querySelectorAll('button')\n    switch (key) {\n      case keys.end:\n        event.preventDefault()\n        // Activate last tab\n        this.clean()\n        this._switchTab(this.tabitems[this.tabitems.length - 1])\n        this._switchContent(this.tabitems[this.tabitems.length - 1])\n        this.tabitems[this.tabitems.length - 1].focus()\n        break\n      case keys.home:\n        event.preventDefault()\n        this.clean()\n        this._switchTab(this.tabitems[0])\n        this._switchContent(this.tabitems[0])\n        this.tabitems[0].focus()\n        event.stopPropagation()\n        break\n      // Up and down are in keydown\n      // because we need to prevent page scroll >:)\n      case keys.left:\n        event.preventDefault()\n        this.position(event.target, -1)\n        event.stopPropagation()\n        break\n      case keys.right:\n        event.preventDefault()\n        this.position(event.target, 1)\n        event.stopPropagation()\n        break\n      case keys.tab:\n        event.preventDefault()\n        this.position(event.target, 0)\n        event.stopPropagation()\n        break\n      case 32:\n        event.preventDefault()\n        event.target.click()\n        event.stopPropagation()\n        break\n      default:\n        break\n    }\n  }\n\n  positionActive(target, direction) {\n    let contComponent = 0\n    let contComponentActive = 0\n\n    const tabItems2 =\n      target.parentElement.parentElement.querySelectorAll('.tab-item')\n    for (const component of tabItems2) {\n      if (\n        component.classList.contains('is-active') ||\n        component.classList.contains('active')\n      ) {\n        contComponentActive = contComponent\n      }\n      contComponent += 1\n    }\n    if (\n      tabItems2.length > contComponentActive + direction &&\n      contComponentActive + direction >= 0\n    ) {\n      this._switchTab(tabItems2[contComponentActive + direction])\n      tabItems2[contComponentActive + direction].focus()\n      let x = ''\n      if (tabItems2[contComponentActive + direction].querySelector('button')) {\n        x = tabItems2[contComponentActive + direction].querySelector('button')\n        x.focus()\n      }\n    }\n  }\n\n  position(target, direction) {\n    this.positionQuery(target, direction, '.tab-item')\n  }\n\n  positionQuery(target, direction, query) {\n    let contComponent = 0\n    const contComponentActive = 0\n    let contComponentFocus = 0\n    const tabItems2 = target.parentElement.parentElement.querySelectorAll(query)\n    for (const component of tabItems2) {\n      if (component.querySelector('.focus-visible')) {\n        contComponentFocus = contComponent\n      }\n      contComponent += 1\n    }\n    tabItems2[contComponentFocus + direction].querySelector('button').focus()\n    if (\n      tabItems2.length > contComponentFocus + direction &&\n      contComponentFocus + direction >= 0\n    ) {\n      if (tabItems2[contComponentFocus + direction].querySelector('button')) {\n        tabItems2[contComponentFocus + direction]\n          .querySelector('button')\n          .focus()\n      }\n    }\n  }\n\n  setPosition(target) {\n    let contComponent = 0\n    let contComponentActive = 0\n\n    const tabItems2 =\n      target.parentElement.parentElement.querySelectorAll('.tab-item')\n    for (const component of tabItems2) {\n      if (\n        component.classList.contains('is-active') ||\n        component.classList.contains('active')\n      ) {\n        contComponentActive = contComponent\n      }\n      contComponent += 1\n    }\n    if (tabItems2.length > contComponentActive && contComponentActive >= 0) {\n      this.clean()\n\n      this._switchContent(tabItems2[contComponentActive])\n\n      // x[0].focus()\n    }\n  }\n\n  clean() {\n    for (const ancor of event.currentTarget.parentElement.querySelectorAll(\n      'button'\n    )) {\n      ancor.classList.remove('focus-visible')\n      ancor.classList.remove('is-active')\n      ancor.classList.remove('active')\n    }\n    for (const ancor of event.currentTarget.parentElement.querySelectorAll(\n      'tab-item'\n    )) {\n      ancor.classList.remove('is-active')\n      ancor.classList.remove('active')\n    }\n  }\n\n  positionScroll(ancor, component) {\n    this.navItems = ancor.querySelectorAll('.tab-item')\n    this.lastItempos = Math.ceil(\n      this.navItems[this.navItems.length - 1].getBoundingClientRect().right\n    )\n    this.navigationLeft = Math.floor(\n      this.navItems[0].getBoundingClientRect().left\n    )\n    this.navigationRight = Math.floor(ancor.getBoundingClientRect().right)\n  }\n  _switchTab(currentTab) {\n    for (const tabItem of this.component.querySelectorAll(\n      '.tab-nav .tab-item:not([not-tab=\"true\"])'\n    )) {\n      if (tabItem === currentTab) {\n        tabItem.classList.add('active')\n      } else {\n        tabItem.classList.remove('is-active')\n        tabItem.classList.remove('active')\n      }\n    }\n  }\n\n  _switchContent(currentTab) {\n    for (const button of currentTab.querySelectorAll('button')) {\n      for (const tabPanel of this.component.querySelectorAll(\n        '.tab-content .tab-panel'\n      )) {\n        if (\n          button.getAttribute('data-panel') === tabPanel.getAttribute('id') ||\n          button.getAttribute('data-target') === tabPanel.getAttribute('id')\n        ) {\n          tabPanel.classList.add('active')\n        } else {\n          tabPanel.classList.remove('is-active')\n          tabPanel.classList.remove('active')\n        }\n      }\n    }\n  }\n}\n\nexport default BRTab\n"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","self","BRTab","constructor","name","component","this","_setBehavior","ancor","querySelectorAll","height","clientHeight","scollsizes","scrollHeight","Math","max","scrollWidth","document","documentElement","offsetWidth","clientWidth","leftPosition","style","setProperty","positionScroll","navigationRight","lastItempos","classList","add","onscroll","event","navigationLeft","remove","addEventListener","_switchTab","currentTarget","parentElement","_switchContent","e","preventDefault","positionKeyboard","tabitems","componentTab","keys","key","keyCode","buttons","clean","length","focus","stopPropagation","position","target","click","positionActive","direction","contComponent","contComponentActive","tabItems2","contains","x","querySelector","positionQuery","query","contComponentFocus","setPosition","navItems","ceil","getBoundingClientRect","right","floor","left","currentTab","tabItem","button","tabPanel","getAttribute"],"sourceRoot":""}