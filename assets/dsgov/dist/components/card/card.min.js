import i from"../../partial/js/behavior/collapse";class r{constructor(t,e,o){this.name=t,this.component=e,this.component.setAttribute("id","card"+o),this._setBehavior()}_setBehavior(){this._setFlipBehavior(),this._setDragBehavior(),this._setDisableBehavior(),this._collpaseBehavior()}_collpaseBehavior(){this.component.querySelectorAll('[data-toggle="collapse"]').forEach(t=>{new i({trigger:t,iconToShow:"fa-chevron-down",iconToHide:"fa-chevron-up",useIcons:!0}).setBehavior()})}_setDisableBehavior(){if(this.component.classList.contains("disabled")){this.component.setAttribute("aria-hidden","true");const t=this.component.querySelectorAll("button"),e=this.component.querySelectorAll("input"),o=this.component.querySelectorAll("select"),i=this.component.querySelectorAll("textarea");for(const e of t)e.setAttribute("disabled","disabled");for(const t of e)t.setAttribute("disabled","disabled");for(const t of o)input.setAttribute("disabled","disabled");for(const t of i)input.setAttribute("disabled","disabled")}}_setFlipBehavior(){for(const t of this.component.querySelectorAll("button.flip"))t.addEventListener("click",()=>{"off"===this.component.getAttribute("flipped")?this.component.setAttribute("flipped","on"):this.component.setAttribute("flipped","off")})}_setDragBehavior(){for(const t of this.component.querySelectorAll("img"))t.setAttribute("draggable","false");for(const t of this.component.querySelectorAll("a"))t.setAttribute("draggable","false");this.component.addEventListener("dragstart",t=>{t.stopPropagation(),t.dataTransfer.setData("text/plain",this.component.getAttribute("id")),t.dropEffect="move"})}}export default r;