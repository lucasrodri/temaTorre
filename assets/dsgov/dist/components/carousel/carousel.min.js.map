{"version":3,"file":"components/carousel/carousel.min.js","mappings":"CAAA,SAAUA,EAAiCC,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,QAAS,GAAIH,GACM,iBAAZC,QACdA,QAAe,MAAID,IAEnBD,EAAY,MAAIC,IARlB,CASGK,MAAM,WACT,M,2BCRA,MAAMC,EACJC,YAAYC,EAAMC,GAShBC,KAAKF,KAAOA,EACZE,KAAKD,UAAYA,EACjBC,KAAKC,eAAiB,EAEtBD,KAAKE,WAAa,CAChBC,cAAeH,KAAKD,UAAUK,cAAc,mBAC5CC,cAAeL,KAAKD,UAAUO,iBAAiB,kBAC/CC,gBAAiBP,KAAKD,UAAUK,cAAc,sBAC9CI,gBAAiBR,KAAKD,UAAUK,cAAc,sBAC9CK,KAAMT,KAAKD,UAAUK,cAAc,YACnCM,SAAUV,KAAKD,UAAUY,aAAa,kBAExCX,KAAKS,KAAO,IAAIG,OAAO,UAAWZ,KAAKE,WAAWO,MAClDT,KAAKa,eAQPC,iBAAiBC,EAASC,GACxBD,EAAQE,SAASC,IACfA,EAAKC,gBAAgBH,MAOzBI,gBACE,OAAOpB,KAAKS,KAAKY,cAOnBC,cAAcD,GACZrB,KAAKS,KAAKa,cAAcD,GAM1BE,iBACE,IAAIC,EAMJ,OALAxB,KAAKE,WAAWG,cAAcY,SAASQ,IACjCA,EAAMd,aAAa,YACrBa,EAAcC,MAGXD,EAOTE,eAAeC,GAEb3B,KAAKc,iBAAiBd,KAAKE,WAAWG,cAAe,UAErDL,KAAKE,WAAWG,cAAcY,SAAQ,CAACQ,EAAOG,KAG1CH,EAAMI,MAAMC,KADVF,EAAQD,EACS,OAEA,QAGjBC,IAAUD,IACZF,EAAMM,aAAa,SAAU,IAC7B/B,KAAKC,eAAiB0B,MAG1B3B,KAAKgC,eAMPA,eAEOhC,KAAKE,WAAWQ,WACS,IAAxBV,KAAKC,eACPD,KAAKE,WAAWM,gBAAgBuB,aAAa,WAAY,IAEzD/B,KAAKE,WAAWM,gBAAgBW,gBAAgB,YAE9CnB,KAAKC,iBAAmBD,KAAKE,WAAWG,cAAc4B,OAAS,EACjEjC,KAAKE,WAAWK,gBAAgBwB,aAAa,WAAY,IAEzD/B,KAAKE,WAAWK,gBAAgBY,gBAAgB,aAStDe,UAAUP,GAER,MAAMH,EAAcxB,KAAKuB,iBACnBY,EAAanC,KAAKE,WAAWG,cAAc4B,OAAS,EAC1D,IAAIhC,EAAiBmC,MAAMC,KAAKrC,KAAKE,WAAWG,eAAeiC,QAC7Dd,GAGEG,EAAM,EAEJ3B,KAAKE,WAAWQ,SAClBT,EACqB,IAAnBA,EAAuBkC,EAAclC,GAAkB,EAEzDA,GAAqC,IAAnBA,EAAuB,EAAI,EAI3CD,KAAKE,WAAWQ,SAClBT,EACEA,IAAmBkC,EAAa,EAAKlC,GAAkB,EAEzDA,GAAkBA,IAAmBkC,EAAa,EAAI,EAG1DnC,KAAKsB,cAAcrB,GACnBD,KAAK0B,eAAezB,GAOtBY,eACEb,KAAKE,WAAWK,gBAAgBgC,iBAAiB,SAAUC,IACzDxC,KAAKkC,UAAU,MAGjBlC,KAAKE,WAAWM,gBAAgB+B,iBAAiB,SAAUC,IACzDxC,KAAKkC,WAAW,MAGlBlC,KAAKE,WAAWO,KAAK8B,iBAAiB,SAAUC,IAC9CxC,KAAK0B,eAAe1B,KAAKS,KAAKY,kBAIhC,MAAMoB,EAAa,IAAIC,qBAAqB1C,KAAKE,WAAWC,eAC5DsC,EAAWE,GAAG,cAAc,KAC1B3C,KAAKkC,UAAU,MAEjBO,EAAWE,GAAG,eAAe,KAC3B3C,KAAKkC,WAAW,MAElBlC,KAAKgC,gBAIT,MAAe,M","sources":["webpack://dsgov/webpack/universalModuleDefinition","webpack://dsgov/./src/components/carousel/carousel.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"dsgov\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dsgov\"] = factory();\n\telse\n\t\troot[\"dsgov\"] = factory();\n})(self, function() {\nreturn ","import BRStep from '../step/step'\nimport SwipeEventDispatcher from '../swipe/swipe'\nclass BRCarousel {\n  constructor(name, component) {\n    /**\n     * Instancia um componente carousel\n     * @param {string} name - Nome do componente\n     * @param {object} component - Objeto referenciando a raiz do componente DOM\n     * @property {number} activeStageNum - Número do palco ativo\n     * @property {array} DOMStrings - instancia dos elementos internos do componente\n     * @property {BRStep} DOMStrings - instancia dos elemento step interno\n     */\n    this.name = name\n    this.component = component\n    this.activeStageNum = 0\n    // Elementos DOM\n    this.DOMstrings = {\n      carouselStage: this.component.querySelector('.carousel-stage'),\n      carouselPages: this.component.querySelectorAll('.carousel-page'),\n      carouselNextBtn: this.component.querySelector('.carousel-btn-next'),\n      carouselPrevBtn: this.component.querySelector('.carousel-btn-prev'),\n      step: this.component.querySelector('.br-step'),\n      circular: this.component.hasAttribute('data-circular'),\n    }\n    this.step = new BRStep('br-step', this.DOMstrings.step)\n    this._setBehavior()\n  }\n\n  /**\n   * Remove os atributos de uma lista de elementos\n   * @param {object} elemSet - Lista de elementos\n   * @param {string} button - Nome do atributo\n   */\n  removeAttributes(elemSet, attrName) {\n    elemSet.forEach((elem) => {\n      elem.removeAttribute(attrName)\n    })\n  }\n\n  /**\n   * Retorna o passo ativo\n   */\n  getActiveStep() {\n    return this.step.activeStepNum\n  }\n\n  /**\n   * Define o passo ativo\n   * @param {number} activeStepNum - número do passo\n   */\n  setActiveStep(activeStepNum) {\n    this.step.setActiveStep(activeStepNum)\n  }\n\n  /**\n   * Retorna o palco ativo\n   */\n  getActiveStage() {\n    let activeStage\n    this.DOMstrings.carouselPages.forEach((stage) => {\n      if (stage.hasAttribute('active')) {\n        activeStage = stage\n      }\n    })\n    return activeStage\n  }\n\n  /**\n   * Define o palco ativo\n   * @param {number} num - número do palco\n   */\n  setActiveStage(num) {\n    // remove active atts from all the stages\n    this.removeAttributes(this.DOMstrings.carouselPages, 'active')\n    // show active stage\n    this.DOMstrings.carouselPages.forEach((stage, index) => {\n      // motion efect\n      if (index > num) {\n        stage.style.left = '100%'\n      } else {\n        stage.style.left = '-100%'\n      }\n      // set active attrb\n      if (index === num) {\n        stage.setAttribute('active', '')\n        this.activeStageNum = num\n      }\n    })\n    this.disabledBtns()\n  }\n\n  /**\n   * Desabilita os botões se o carousel não for circular\n   */\n  disabledBtns() {\n    // Disables Carousel Buttons\n    if (!this.DOMstrings.circular) {\n      if (this.activeStageNum === 0) {\n        this.DOMstrings.carouselPrevBtn.setAttribute('disabled', '')\n      } else {\n        this.DOMstrings.carouselPrevBtn.removeAttribute('disabled')\n      }\n      if (this.activeStageNum === this.DOMstrings.carouselPages.length - 1) {\n        this.DOMstrings.carouselNextBtn.setAttribute('disabled', '')\n      } else {\n        this.DOMstrings.carouselNextBtn.removeAttribute('disabled')\n      }\n    }\n  }\n\n  /**\n   * Muda a página ativa incrementalmente - ações de botões e swap\n   * @param {number} num - incremento\n   */\n  shiftPage(num) {\n    //find active stage\n    const activeStage = this.getActiveStage()\n    const PanelsSize = this.DOMstrings.carouselPages.length - 1\n    let activeStageNum = Array.from(this.DOMstrings.carouselPages).indexOf(\n      activeStage\n    )\n    // set active step and active stage onclick\n    if (num < 0) {\n      // Volta o slide\n      if (this.DOMstrings.circular) {\n        activeStageNum =\n          activeStageNum === 0 ? PanelsSize : (activeStageNum -= 1)\n      } else {\n        activeStageNum -= activeStageNum === 0 ? 0 : 1\n      }\n    } else {\n      // Passar p/ frente o slide\n      if (this.DOMstrings.circular) {\n        activeStageNum =\n          activeStageNum === PanelsSize ? 0 : (activeStageNum += 1)\n      } else {\n        activeStageNum += activeStageNum === PanelsSize ? 0 : 1\n      }\n    }\n    this.setActiveStep(activeStageNum)\n    this.setActiveStage(activeStageNum)\n  }\n\n  /**\n   * Define os comportamentos do componente\n   * @private\n   */\n  _setBehavior() {\n    this.DOMstrings.carouselNextBtn.addEventListener('click', (e) => {\n      this.shiftPage(1)\n    })\n\n    this.DOMstrings.carouselPrevBtn.addEventListener('click', (e) => {\n      this.shiftPage(-1)\n    })\n\n    this.DOMstrings.step.addEventListener('click', (e) => {\n      this.setActiveStage(this.step.activeStepNum)\n    })\n\n    // Swipe\n    const dispatcher = new SwipeEventDispatcher(this.DOMstrings.carouselStage)\n    dispatcher.on('SWIPE_LEFT', () => {\n      this.shiftPage(1)\n    })\n    dispatcher.on('SWIPE_RIGHT', () => {\n      this.shiftPage(-1)\n    })\n    this.disabledBtns()\n  }\n}\n\nexport default BRCarousel\n"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","self","BRCarousel","constructor","name","component","this","activeStageNum","DOMstrings","carouselStage","querySelector","carouselPages","querySelectorAll","carouselNextBtn","carouselPrevBtn","step","circular","hasAttribute","BRStep","_setBehavior","removeAttributes","elemSet","attrName","forEach","elem","removeAttribute","getActiveStep","activeStepNum","setActiveStep","getActiveStage","activeStage","stage","setActiveStage","num","index","style","left","setAttribute","disabledBtns","length","shiftPage","PanelsSize","Array","from","indexOf","addEventListener","e","dispatcher","SwipeEventDispatcher","on"],"sourceRoot":""}